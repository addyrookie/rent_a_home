/*
 *
 * Copyright (c) 2010 Sam Collett (http://www.texotela.co.uk)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * 
 * Version 1.0
 *
 */
;(function(c){c.fn.dialogImage=function(){c(this).click(function(f){f.preventDefault();var g=this,h=c("<div></div>").dialog({title:"Loading..."});c("<img>").attr({src:this.href}).css({padding:0}).load(function(){h.dialog("destroy").remove();var d=c(window).width()-20,e=c(window).height()-20,a=this.width,b=this.height;if(a>d){b*=d/a;a=d;if(b>e){a*=e/b;b=e}}else if(b>e){a*=e/b;b=e;if(a>d){b*=d/a;a=d}}this.width=a;this.height=b;c(this).dialog({width:a,title:c(g).text()}).css({height:"",width:""})})})}})(jQuery);
